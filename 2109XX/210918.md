## 210918 TIL

### 오늘 배운 것

#### 네트워크

- 네트워크란?
<p>
분산된 컴퓨터들이 자원을 공유할 수 있도록 연결한 통신망<br/>
연결된 다른 컴퓨터에서 파일을 생성, 삭제, 수정 가능하다.
</p>

- 네트워크의 형태

1. 물리적 네트워크

- LAN(Local Area Network) 근거리 통신망
- WAN(Wide Area Networl) 원거리 통신망
- LAN을 ISP로 연결해 WAN을 형성한다.

2. 논리적 네트워크

- VPN(Virtual Private Network) 가상 사설망
- 외부 서버로 통하는 암호화된 가상 터널을 이용해 데이터를 송수신한다.
- 개인 IP가 아니라 VPN서버의 IP로 연결하는 방식

- 네트워크 종류(사용처에 따른 분류)

1. 홈 네트워크

- 인터넷 -> ISP -> 모델-> 공유기 -> 전자기기(유선으로 연결하는 PC는 모뎀과 직접 연결함)

2. 기업용 네트워크

- 인터넷 -> ISP(전용선) -> 라우터 -> 방화벽
- (외부와 통하는 쪽) 방화벽 -> L4 로드 밸런서 -> 서버
- (내부와 통하는 쪽) 방화벽 -> L3 백본 -> L2 스위치 -> 컴퓨터

3. 라우트 네트워크 (AWS기준)

- 인터넷 -> Route53 (DNS: string으로 된 주소를 숫자로된 IP주소로 변경해주는 장치) -> IGW (Internet gateway: 라우터로 봐야한다.) -> VPC (논리적 망, L3, L2같은 스위치를 논리적으로 구축한다.)
- (VPC 내부) -> ELB (로드 밸런서) -> EC2 (각 서버나 컴퓨터 같이 네트워크가 필요한 곳)

4. 용어 및 역할 정리

- 모뎀: 아날로그 신호를 디지털로 변경해준다.
- 라우터: 네트워크 계층에서 다른 망과 패킷을 주고 받을 수 있게하는 장치
- 라우터: 바깥 트래픽을 받아서 내부로 트래픽을 분산 시켜주는 장치.
- 백본: 소형 네트워크를 묶어서 형성한 대규모 파이프라인, 대역폭이 극도로 높다. 백본 스위치는 안에 따로 있는 것이다.
- 스위치: 보낸 곳, 반는 곳의 MAC 주소와 연결된 포트를 기억했다가 알맞게 보내주는 장치. 보낸 곳의 MAC주소가 처음보는 곳이면 기억해뒀다가 또 보냈을 때 알고 있는 도착지로 정보를 또 보내주지만, 받는 곳의 MAC주소를 모르면 모든 포트로 뿌린다. (MAC주소가아니라 IP주소를 기반으로 작동하는 스위치는 IP 스위치이다.)

5. OSI 7계층

- 1계층: 물리 계층 -> 장치와 통신 매체 사이에서 0과 1으로 통신, 빛이나 전기 신호, 전파같은 물리적인 신호를 케이블로 전달한다.
- 2계층: 데이터 링크 계층 -> 물리 계층에서 전달한 신호의 오류를 감지하면 폐기하고, 아니면 디지털 신호로 변경해 네트워크 상에 연결된 장치에 신호가 정상적으로 도달할 수 있게한다. 매체 접근 제어, 흐름 제어, 오류 검사 담당이다.
- 3계층: 네트워크 계층 -> 각 호스트들은 IP주소라는 고유한 주소를 가진다. 최적의 경로를 선택해서(라우팅) 패킷이란 단위로 데이터를 전송하는 계층이다.
- 4계층: 전송 계층 -> 데이터 링크 계층과 유사하게 흐름과 오류를 제어하지만, 이전 계층이 물리적 신호를 주고 받는 것이라면, 추가로 전송 계층은 두 호스트간의 주고받은 데이터가 어떤 용도인지(웹브라우저에서 사용할 것인가, 메일프로그램에서 사용할 것인가) 식별한다.
- 5계층: 세션 계층 -> 응용프로그램간의 연결을 관리하는 계층이다. 세션을 만든다는 것은 송,수신측이 함께 회의를 한다는 개념이다. 연결을 관리하면서 연결이 의도적으로 종료되는 경우가 아니면 복구 시도하고, 오류 발생 이후에 데이터만 재전송 한다.
- 6계층: 프레젠테이션 계층 -> 데이터를 애플리케이션이 이해할 수 있는 형태로 가공하는 계층이다. 암호화와 데이터 압축도 한다.
- 7계층: 애플리케이션 계층 -> 사람들이 실제로 서비스를 이용할 수 있도록 도와주는 인터페이스를 담당한다.

6. OSI 7계층 실제 예시

- 1계층: 물리적 신호 0,1을 보낸다.
- 2계층: LAN카드의 MAC 주소를 이용해 허브, 스위치, 공유기 등등에 데이터를 보낸다. (MAC끼리도 서로 보낸다.)
- 3계층: PC에 게이트웨이로 설정된 라우터로 데이터를 보낸다. 목적지까지 경로를 라우팅테이블에서 확인하고 경로 상에 있는 라우터로 데이터를 전송한다.
- 4계층: 라우터간의 전송을 제어한다. 데이터 식별도 함께한다.
- 5계층: PC와 서버간의 연결을 제어한다.
- 6계층: 서버에서 받은 데이터를 애플리케이션에서 인식할 수 있도록 표현하거나 암호화, 압축도 한다.
- 7계층: 사용자가 알아 볼 수 있게 인터페이스를 출력한다.

### 오늘의 느낀점

<p>
직접적인 데이터 전달 과정을 안보고 요약본을 겉핥듯 글씨만 봐서 이해가 안간다.<br/>
2계층까지는 물리적으로 데이터를 바로바로 전달하고 특히 우리 한 팀내에서만 전달한다는 느낌이면<br/>
3,4,5계층은 서버와 컴퓨터같이 아예 외부랑 데이터를 주고 받는 단계고<br/>
6,7은 또 컴퓨터안에서 받은 정보를 사용자한테 어떻게 인식시킬 것인지에 대한 내용인 것 같다.<br/>
3,4,5단계를 생략해서 폐쇄적인 환경에서 정보를 주고받을 수도 있지 않을까?
</p>

### 앞으로의 계획

1. TCP/IP 모델
2. 각 계층 더 자세히 공부하기
